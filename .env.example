##############################################
#  Matrix Server Configuration               #
#  Copy this file to .env and fill in values  #
##############################################

# === Domain Configuration ===
# Set USE_ROOT_DOMAIN=true to use root domain for Synapse (e.g. two.web.id)
# Set USE_ROOT_DOMAIN=false to use subdomain for Synapse (e.g. chat.two.web.id)
USE_ROOT_DOMAIN=true

DOMAIN=example.com
SYNAPSE_SUBDOMAIN=chat
ELEMENT_SUBDOMAIN=element
DIMENSION_SUBDOMAIN=dimension

# SYNAPSE_DOMAIN is auto-calculated by setup.sh based on USE_ROOT_DOMAIN
# If USE_ROOT_DOMAIN=true, SYNAPSE_DOMAIN=${DOMAIN}
# If USE_ROOT_DOMAIN=false, SYNAPSE_DOMAIN=${SYNAPSE_SUBDOMAIN}.${DOMAIN}
# You can also set it manually here if needed:
# SYNAPSE_DOMAIN=chat.example.com

# === PostgreSQL ===
POSTGRES_USER=synapse
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=synapse
POSTGRES_INITDB_ARGS="--lc-collate=C --lc-ctype=C --encoding=UTF8"

# === pgAdmin (PostgreSQL Manager) ===
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=CHANGE_ME_PGADMIN_PASSWORD

# === Traefik ===
ACME_EMAIL=admin@example.com
TRAEFIK_DASHBOARD_USER=admin
TRAEFIK_DASHBOARD_PASSWORD=CHANGE_ME_TRAEFIK_PASSWORD

# === Sliding Sync Proxy ===
SLIDING_SYNC_SECRET=CHANGE_ME_SLIDING_SYNC_SECRET

# === Jitsi Meet ===
JITSI_SUBDOMAIN=meet
JITSI_JICOFO_SECRET=CHANGE_ME_JITSI_JICOFO_SECRET
JITSI_JICOFO_PASSWORD=CHANGE_ME_JITSI_JICOFO_PASSWORD
JITSI_JVB_PASSWORD=CHANGE_ME_JITSI_JVB_PASSWORD

# === Synapse ===
SYNAPSE_SERVER_NAME=${DOMAIN}
SYNAPSE_REPORT_STATS=no
SYNAPSE_MAX_UPLOAD_SIZE=50M
SYNAPSE_ENABLE_REGISTRATION=false
SYNAPSE_REGISTRATION_SHARED_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32
SYNAPSE_MACAROON_SECRET_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32
SYNAPSE_FORM_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32

# === Redis ===
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# === Dimension (Integration Manager) ===
DIMENSION_ACCESS_TOKEN=CHANGE_ME_DIMENSION_BOT_TOKEN
DIMENSION_API_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_16

# === Coturn (TURN/STUN for VoIP) ===
TURN_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32
TURN_REALM=${DOMAIN}
TURN_MIN_PORT=49152
TURN_MAX_PORT=65535

# === Grafana ===
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# === Telegram Alerts (Fail2ban + Resource Monitoring) ===
TELEGRAM_BOT_TOKEN=CHANGE_ME_YOUR_BOT_TOKEN
TELEGRAM_CHAT_ID=CHANGE_ME_YOUR_CHAT_ID

# === Backup ===
GPG_RECIPIENT=CHANGE_ME_YOUR_GPG_KEY_ID
BACKUP_RETENTION_DAYS=7

# === Offsite Backup (rclone) ===
# Configure rclone first: rclone config
RCLONE_REMOTE=offsite
RCLONE_PATH=matrix-backup
